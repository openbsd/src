#	$OpenBSD: GENERIC-IP22,v 1.2 2012/03/29 20:18:44 miod Exp $
#
# THIS KERNEL IS FOR INDIGO (IP20), INDY (IP22) AND INDIGO2 (IP24) SYSTEMS ONLY.
#
# For further information on compiling OpenBSD kernels, see the config(8)
# man page.
#
# For further information on hardware support for this architecture, see
# the intro(4) man page.  For further information about kernel options
# for this architecture, see the options(4) man page.  For an explanation
# of each device driver in this file see the section 4 man page for the
# device.

machine		sgi mips64
include		"../../../conf/GENERIC"
maxusers	32		# Estimated number of users

# Make options
makeoption	LINK_ADDRESS="0xffffffff88800000"
# Force use of 16KB pages. The R5000 Indy, which has the infamous XKPHYS
# coherency bug wrt ll/sc instructions, can not have more than 256MB of
# physical memory, all of it fitting within CKSEG0.
option		PAGE_SHIFT="14"

#option	WSDISPLAY_COMPAT_RAWKBD	# Provide raw scancodes; needed for X11

# Define what targets to support
option		TGT_INDIGO	# R4x00 Indigo (IP20)
option		TGT_INDIGO2	# Indigo2 (IP22/IP26/IP28)
option		TGT_INDY	# Indy (IP24)
option		ARCBIOS		# mandatory
option		CPU_R4000	# R4000/R4400 support (IP20/IP22/IP24)
#option		CPU_R4600	# R4600 support (IP22/IP24)
option		CPU_R5000	# R5000 support (IP24)

config		bsd	swap generic

#
# Definition of system
#
mainbus0	at root
cpu*		at mainbus0
clock0		at mainbus0

int0		at mainbus0	# Interrupt Controller
imc0		at mainbus0	# Memory Controller
gio0		at imc0
#eisa0		at imc0

hpc0		at gio? addr 0x1fb80000
hpc1		at gio? addr 0x1fb00000
hpc2		at gio? addr 0x1f980000

dpclock0	at hpc0		# IP20
dsclock0	at hpc0		# IP22/24
sq*		at hpc?		# On-board Ethernet or E++ adapter
wdsc*		at hpc?		# On-board SCSI or GIO32 SCSI adapter
#haltwo*	at hpc?		# Indy/Indigo2 Audio
#panel*		at hpc?		# Indy front panel buttons
#pckbc*		at hpc?		# Indy/Indigo2 keyboard and mouse

zs*		at hpc?
zstty*		at zs?		# Serial ports

#newport*	at gio?		# Indy Newport graphics
#wsdisplay*	at newport?

#grtwo*		at gio?		# Express (GR2) graphics
#wsdisplay*	at grtwo?

#light*		at gio?		# Light/Starter/Entry (LG1/LG2) graphics
#wsdisplay*	at light?

scsibus*	at scsi?
sd*		at scsibus?
st*		at scsibus?
cd*		at scsibus?
ch*		at scsibus?
safte*		at scsibus?
ses*		at scsibus?
uk*		at scsibus?

pseudo-device	crypto	1
#pseudo-device	hotplug	1	# devices hot plugging
#pseudo-device	wsmux	2       # Mouse and keyboard multiplexor
