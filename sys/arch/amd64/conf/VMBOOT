#	$OpenBSD: VMBOOT,v 1.1 2025/11/12 11:34:36 hshoexer Exp $

machine		amd64
maxusers	4

option		BOOT_KERNEL
option		SMALL_KERNEL
option		NO_PROPOLICE
option		BOOT_CONFIG

option		RAMDISK_HOOKS
option		MINIROOTSIZE=4480

option		PCIVERBOSE
option		SCSITERSE

option		FFS
option		FFS2

config		bsd root on rd0a swap on rd0b and sd0b

mainbus0	at root
bios0		at mainbus?

mpbios0		at bios0

cpu0		at mainbus0
ioapic*		at mainbus?
isa0		at mainbus0
pci*		at mainbus0
pvbus0		at mainbus0

pckbc0		at isa?		# PC keyboard controller
pckbd*		at pckbc?	# PC keyboard
wskbd*		at pckbd? mux 1
vga0		at isa?
vga*		at pci?
wsdisplay0	at vga? console 1

com0		at isa? port 0x3f8 irq 4	# standard PC serial ports
com1		at isa? port 0x2f8 irq 3

scsibus*	at scsi?
sd*		at scsibus?		# SCSI disk drives

pseudo-device	loop 1
pseudo-device	bpfilter 1
pseudo-device	rd 1
pseudo-device	wsmux 2
pseudo-device	kexec

pvclock0	at pvbus?		# KVM pvclock

# Virtio devices
virtio*		at pci?		# Virtio PCI device
vioblk*		at virtio?	# Virtio block device
viornd*		at virtio?	# Virtio entropy device
