.\"	$OpenBSD: rogue.6,v 1.15 2010/01/10 10:56:31 jmc Exp $
.\"
.\" Copyright (c) 1988, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@(#)rogue.6	8.1 (Berkeley) 5/31/93
.\"
.Dd $Mdocdate: January 10 2010 $
.Dt ROGUE 6
.Os
.Sh NAME
.Nm rogue
.Nd Exploring The Dungeons of Doom
.Sh SYNOPSIS
.Nm rogue
.Op Fl s
.Op Ar save_file
.\" .Op Fl r
.\" .Op Fl d
.Sh DESCRIPTION
.Nm
is a computer fantasy game.
The object of the game is to survive the
attacks of various monsters and collect a lot of gold.
.Pp
To get started you really only need to know two commands.
The command
.Ic ?\&
will give you a list of the available commands and the command
.Ic \&/
will identify the things you see on the screen.
.Pp
To beat the game you must locate the Amulet of Yendor which is
somewhere below the 20th level of the dungeon and get it out.
Nobody has achieved this yet and if somebody does, they will probably go down
in history as a hero among heroes.
.Pp
When the game ends, either by your death, when you quit, or if
.Pq by some miracle
you manage to win,
.Nm
will give you a list of the top-ten scorers.
The scoring is based entirely upon how much gold you get.
There is a 10% penalty for getting yourself killed.
.Pp
If
.Ar save_file
is specified,
rogue will be restored from the specified saved game file.
.Pp
The
.Fl s
option will print out the list of scores and exit.
.Sh INTRODUCTION
You have just finished your years as a student at the local fighter's
guild.
After much practice and sweat you have finally completed your
training and are ready to embark upon a perilous adventure.
As a test of your skills,
the local guildmasters have sent you into the Dungeons of Doom.
Your task is to return with the Amulet of Yendor.
Your reward for the completion of this task
will be a full membership in the local guild.
In addition, you are allowed to keep all the loot you bring back
from the dungeons.
.Pp
In preparation for your journey, you are given an enchanted mace, a
bow, and a quiver of arrows taken from a dragon's hoard in the far off
Dark Mountains.
You are also outfitted with elf-crafted armor and given
enough food to reach the dungeons.
You say goodbye to family and
friends for what may be the last time and head up the road.
.Pp
You set out on your way to the dungeons and after several days of
uneventful travel, you see the ancient ruins that mark the entrance to
the Dungeons of Doom.
It is late at night, so you make camp at the
entrance and spend the night sleeping under the open skies.
In the morning you gather your weapons,
put on your armor, eat what is almost
your last food, and enter the dungeons.
.Sh GAMEPLAY
You have just begun a game of rogue.
Your goal is to grab as much
treasure as you can, find the Amulet of Yendor, and get out of the
Dungeons of Doom alive.
On the screen, a map of where you have been and
what you have seen on the current dungeon level is kept.
As you explore more of the level,
it appears on the screen in front of you.
.Pp
Rogue differs from older computer fantasy games in that it is screen
oriented.
Commands are all one or two keystrokes and the results of
your commands are displayed graphically on the screen rather than being
explained in words.
.Pp
Another major difference between
.Nm
and other computer fantasy games
is that once you have solved all the puzzles in a standard fantasy
game, it has lost most of its excitement and it ceases to be fun.
.Nm ,
on the other hand, generates a new dungeon every time you play
it and even the author finds it an entertaining and exciting game.
.Sh COMMANDS
Commands are given to rogue by typing one or two characters.
Most commands can be preceded by a count to repeat them
(e.g. typing
.Sq 10s
will do ten searches).
Commands for which counts make no sense
have the count ignored.
To cancel a count or a prefix,
type
.Aq ESC .
The list of commands is rather long,
but it can be read at any time during the game with the
.Sq ?\&
command.
Here it is for reference,
with a short explanation of each command.
.Bl -tag -width indent
.It Ic ?\&
The help command.
Asks for a character to give help on.
If you type a
.Sq * ,
it will list all the commands,
otherwise it will explain what the character you typed does.
.It Ic /
This is the
.Sq \What is that on the screen?
command.
A
.Sq /
followed by any character that you see on the level,
will tell you what that character is.
For instance,
typing
.Sq /@
will tell you that the
.Sq @
symbol represents you, the player.
.It Ic h, H, ^H
Move left.
You move one space to the left.
If you use upper case
.Sq h ,
you will continue to move left until you run into something.
This works for all movement commands
(e.g.\&
.Sq L
means run in direction
.Sq l ) .
If you use the \*(lqcontrol\*(rq
.Sq h ,
you will continue moving in the specified direction
until you pass something interesting or run into a wall.
You should experiment with this,
since it is a very useful command,
but very difficult to describe.
This also works for all movement commands.
.It Ic j
Move down.
.It Ic k
Move up.
.It Ic l
Move right.
.It Ic y
Move diagonally up and left.
.It Ic u
Move diagonally up and right.
.It Ic b
Move diagonally down and left.
.It Ic n
Move diagonally down and right.
.It Ic t
Throw an object.
This is a prefix command.
When followed with a direction
it throws an object in the specified direction
(e.g. type
.Sq th
to throw
something to the left).
.It Ic f
Fight until someone dies.
When followed with a direction
this will force you to fight the creature in that direction
until either you or it bites the big one.
.It Ic m
Move onto something without picking it up.
This will move you one space in the direction you specify and,
if there is an object there you can pick up,
it won't do it.
.It Ic z
Zap prefix.
Point a staff or wand in a given direction
and fire it.
Even non-directional staves must be pointed in some direction
to be used.
.It Ic ^
Identify trap command.
If a trap is on your map
and you can't remember what type it is,
you can get rogue to remind you
by getting next to it and typing
.Sq ^
followed by the direction that would move you on top of it.
.It Ic s
Search for traps and secret doors.
Examine each space immediately adjacent to you
for the existence of a trap or secret door.
There is a large chance that even if there is something there,
you won't find it,
so you might have to search a while before you find something.
.It Ic \*(Gt
Climb down a staircase to the next level.
Not surprisingly, this can only be done if you are standing on
a staircase.
.It Ic \*(Lt
Climb up a staircase to the level above.
This can't be done without the Amulet of Yendor in your possession.
.It Ic .\&
Rest.
This is the \*(lqdo nothing\*(rq command.
This is good for waiting and healing.
.It Ic ,\&
Pick up something.
This picks up whatever you are currently standing on,
if you are standing on anything at all.
.It Ic i
Inventory.
List what you are carrying in your pack.
.It Ic I
Selective inventory.
Tells you what a single item in your pack is.
.It Ic q
Quaff one of the potions you are carrying.
.It Ic r
Read one of the scrolls in your pack.
.It Ic e
Eat food from your pack.
.It Ic w
Wield a weapon.
Take a weapon out of your pack and carry it for use in combat,
replacing the one you are currently using (if any).
.It Ic W
Wear armor.
You can only wear one suit of armor at a time.
This takes extra time.
.It Ic T
Take armor off.
You can't remove armor that is cursed.
This takes extra time.
.It Ic P
Put on a ring.
You can wear only two rings at a time
(one on each hand).
If you aren't wearing any rings,
this command will ask you which hand you want to wear it on,
otherwise, it will place it on the unused hand.
The program assumes that you wield your sword in your right hand.
.It Ic R
Remove a ring.
If you are only wearing one ring,
this command takes it off.
If you are wearing two,
it will ask you which one you wish to remove,
.It Ic d
Drop an object.
Take something out of your pack and leave it lying on the floor.
Only one object can occupy each space.
You cannot drop a cursed object at all
if you are wielding or wearing it.
.It Ic c
Call an object something.
If you have a type of object in your pack
which you wish to remember something about,
you can use the call command to give a name to that type of object.
This is usually used when you figure out what a
potion, scroll, ring, or staff is
after you pick it up but before it is truly identified.
Each type of
scroll and potion will become identified after its first use.
.It Ic o
Examine and set options.
This command is further explained in the section on options.
.It Ic ^R
Redraws the screen.
Useful if spurious messages or transmission errors
have messed up the display.
.It Ic ^P
Print last message.
Useful when a message disappears before you can read it.
Consecutive repetitions of this command will reveal the last
five messages.
.It Aq Ic ESC
Cancel a command, prefix, or count.
.It Ic !\&
Escape to a shell for some commands.
.It Ic Q
Quit.
Leave the game.
.It Ic S
Save the current game in a file.
It will ask you whether you wish to use the default save file.
.i Caveat :
Rogue won't let you start up a copy of a saved game,
and it removes the save file as soon as you start up a restored game.
This is to prevent people from saving a game just before a dangerous
position
and then restarting it if they die.
To restore a saved game,
give the file name as an argument to rogue.
As in:
.Pp
.Dl $ rogue Aq save_file
.It Ic v
Prints the program version number.
.It Ic )\&
Print the weapon you are currently wielding
.It Ic ]\&
Print the armor you are currently wearing
.It Ic =
Print the rings you are currently wearing
.El
.Sh ROOMS
Rooms in the dungeons are lit as you enter them.
Upon leaving a room,
all monsters inside the room are erased from the screen.
In the darkness of a corridor,
you can only see one space in all directions around you.
.Sh FIGHTING
If you see a monster and you wish to fight it, just attempt to run into it.
Many times a monster you find will mind its own business unless you
attack it.
It is often the case that discretion is the better part of valor.
.Sh OBJECTS
When you find something in the dungeon,
it is common to want to pick the object up.
This is accomplished in rogue by walking over the object
(unless you use the
.Sq m
prefix, see above).
If you are carrying too many things,
the program will tell you and it won't pick up the object,
otherwise it will add it to your pack
and tell you what you just picked up.
.Pp
Many of the commands that operate on objects must prompt you
to find out which object you want to use.
If you change your mind and don't want to do that command after all,
just type an
.Aq ESC
and the command will be aborted.
.Pp
Some objects, like armor and weapons,
are easily differentiated.
Others, like scrolls and potions,
are given labels which vary according to type.
During a game,
any two of the same kind of object
with the same label
are the same type.
However,
the labels will vary from game to game.
.Pp
When you use one of these labeled objects,
its effect may be obvious.
Potions or scrolls will
become identified at this point, but not other items.
You may want to call these other items something
so you will recognize it later,
you can use the
.Sq call
command
(see above).
.Ss Weapons
Some weapons,
like arrows,
come in bunches,
but most come one at a time.
In order to use a weapon,
you must wield it.
To fire an arrow out of a bow,
you must first wield the bow,
then throw the arrow.
You can only wield one weapon at a time,
but you can't change weapons if the one
you are currently wielding is cursed.
The commands to use weapons are
.Sq w
(wield)
and
.Sq t
(throw).
.Ss Armor
There are various sorts of armor lying around in the dungeon.
Some of it is enchanted,
some is cursed,
and some is just normal.
Different armor types have different armor protection.
The higher the armor protection,
the more protection the armor affords against the blows of monsters.
Here is a list of the various armor types and their normal armor
protection:
.Bl -column "Type" "Protection" -offset indent
.It Sy "Type" Ta Ta Ta Sy "Protection"
.It "None" Ta Ta Ta 0
.It "Leather armor" Ta Ta Ta 2
.It "Studded leather" Ta Ta Ta 3
.It "Ring mail" Ta Ta Ta 3
.It "Scale mail" Ta Ta Ta 4
.It "Chain mail" Ta Ta Ta 5
.It "Banded mail" Ta Ta Ta 6
.It "Splint mail" Ta Ta Ta 6
.It "Plate mail" Ta Ta Ta 7
.El
.Pp
If a piece of armor is enchanted,
its armor protection will be higher than normal.
If a suit of armor is cursed,
its armor protection will be lower,
and you will not be able to remove it.
However, not all armor with a protection that is lower than normal is
cursed.
.Pp
The commands to use weapons are
.Sq W
(wear)
and
.Sq T
(take off).
.Ss Scrolls
Scrolls come with titles in an unknown tongue.
After you read a scroll,
it disappears from your pack.
The command to use a scroll is
.Sq r
(read).
.Ss Potions
Potions are labeled by the color of the liquid inside the flask.
They disappear after being quaffed.
The command to quaff a potion is
.Sq q
(quaff).
.Ss Staves and Wands
Staves and wands do the same kinds of things.
Staves are identified by a type of wood;
wands by a type of metal or bone.
They are generally things you want to do to something
over a long distance,
so you must point them at what you wish to affect
to use them.
Some staves are not affected by the direction they are pointed, though.
Staves come with multiple magic charges,
the number being random,
and when they are used up,
the staff is just a piece of wood or metal.
.Pp
The command to use a wand or staff is
.Sq z
(zap)
.Ss Rings
Rings are very useful items,
since they are relatively permanent magic,
unlike the usually fleeting effects of potions, scrolls, and staves.
Of course,
the bad rings are also more powerful.
Most rings also cause you to use up food more rapidly,
the rate varying with the type of ring.
Rings are differentiated by their stone settings.
The commands to use rings are
.Sq P
(put on)
and
.Sq R
(remove).
.Ss Food
Food is necessary to keep you going.
If you go too long without eating you will faint,
and eventually die of starvation.
The command to use food is
.Sq e
(eat).
.Sh OPTIONS
Due to variations in personal tastes
and conceptions of the way
.Nm
should do things,
there are a set of options you can set that cause
.Nm
to behave in various different ways.
.Ss Setting the options
There are two ways to set the options.
The first is with the
.Sq o
command of
.Nm ;
the second is with the
.Ev ROGUEOPTS
environment variable.
.Pp
When you type
.Sq o
in
.Nm ,
it clears the screen
and displays the current settings for all the options.
It then places the cursor by the value of the first option
and waits for you to type.
You can type a
.Aq RETURN
which means to go to the next option, a
.Sq -
which means to go to the previous option,
an
.Aq ESC ,
which means to return to the game,
or you can give the option a value.
For boolean options this merely involves typing
.Sq t
for true or
.Sq f
for false.
For string options,
type the new value followed by a
.Aq RETURN .
.Pp
The
.Ev ROGUEOPTS
variable is a string
containing a comma separated list of initial values
for the various options.
Boolean variables can be turned on by listing their name
or turned off by putting a
.Sq no
in front of the name.
Thus to set up an environment variable so that
.Dq jump
is on,
.Dq passgo
is off,
and the
.Dq name
is set to
.Dq Blue Meanie ,
use the following command:
.Bd -literal -offset indent
$ setenv ROGUEOPTS "jump,nopassgo,name=Blue Meanie"
.Ed
.Ss Option list
Here is a list of the options
and an explanation of what each one is for.
The default value for each is enclosed in square brackets.
For character string options,
input over forty characters will be ignored.
.Bl -tag -width indent
.It Ic jump Ar nojump
If this option is set,
running moves will not be displayed
until you reach the end of the move.
This saves considerable CPU and display time.
This option defaults to
.Ic jump
if you are using a slow terminal.
.It Ic passgo Ar nopassgo
Follow turnings in passageways.
If you run in a passage
and you run into stone or a wall,
rogue will see if it can turn to the right or left.
If it can only turn one way,
it will turn that way.
If it can turn either or neither,
it will stop.
This algorithm can sometimes lead to slightly confusing occurrences
which is why it defaults to
.Ic nopassgo .
.It Ic skull Ar skull
Print out the skull at the end if you get killed.
This is nice but slow, so you can turn it off if you like.
.It Ic name Ar account name
This is the name of your character.
It is used if you get on the top ten scorer's list.
.It Ic fruit Ar slime-mold
This should hold the name of a fruit that you enjoy eating.
It is basically a whimsey that
.Nm
uses in a couple of places.
.It Ic file Ar ~/rogue.save
The default file name for saving the game.
If your phone is hung up by accident,
rogue will automatically save the game in this file.
The file name may start with the special character
.Sq ~
which expands to your home directory.
.El
.Sh SCORING
.Nm
maintains a list of the top scoring people or scores on your machine.
If you score higher than someone else on this list, or better
your previous score on the list, you will be inserted in the proper
place under your current name.
.Pp
If you quit the game, you get out with all of your gold intact.
If, however, you get killed in the Dungeons of Doom, your body is forwarded
to your next-of-kin, along with 90% of your gold; ten percent of your
gold is kept by the Dungeons' wizard as a fee.
This should make you
consider whether you want to take one last hit at that monster and
possibly live, or quit and thus stop with whatever you have.
If you quit, you do get all your gold, but if you swing and live,
you might find more.
.Pp
If you just want to see what the current top players/games list is,
you can type:
.Pp
.Dl $ rogue -s
.Sh FILES
.Bl -tag -width "/var/games/rogue.scoresXXX" -compact
.It Pa /var/games/rogue.scores
Score file
.It Pa ~/rogue.save
Default save file
.El
.Sh HISTORY
Rogue was originally conceived of by Glenn Wichman and Michael Toy.
Ken Arnold and Michael Toy then smoothed out the user interface,
and added jillions of new features.
We would like to thank
Bob Arnold,
Michelle Busch,
Andy Hatcher,
Kipp Hickman,
Mark Horton,
Daniel Jensen,
Bill Joy,
Joe Kalash,
Steve Maurer,
Marty McNary,
Jan Miller,
and
Scott Nelson
for their ideas and assistance;
and also the teeming multitudes
who graciously ignored work, school, and social life to play
.Nm
and send us bugs, complaints, suggestions, and just plain flames.
And also Mom.
.Pp
The public domain version of
.Nm
distributed with Berkeley
.Ux
was written by Timothy Stoehr.
.Sh AUTHORS
Timothy Stoehr,
Michael C. Toy,
Kenneth C. R. C. Arnold,
Glenn Wichman.
.Sh BUGS
Probably infinite, although none are known.
However,
that Ice Monsters sometimes transfix you permanently is
.Em not
a bug.
It's a feature.
