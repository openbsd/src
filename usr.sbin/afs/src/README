README for arla-0.23 ($Name:  $)
$Id: README,v 1.2 1999/04/30 01:59:03 art Exp $

1. What is arla?

Arla is a free AFS cache-manager implementation.

2. Where do I find this file?

This file is contained inside
ftp://ftp.stacken.kth.se/pub/arla/arla-0.23.tar.gz
(aka /afs/stacken.kth.se/ftp/pub/arla/arla-0.23.tar.gz).

3. What is AFS?

AFS is a world-wide distributed file system.  See
<http://www.transarc.com/afs/transarc.com/public/www/Product/AFS/FAQ/faq.html>
for more information.

4. What's included in arla?

There is kernel support (with different level of functionality) for
the following operating systems:

- FreeBSD 2.2, 3.0, and 4.0
- OpenBSD 2.2, 2.3 and 2.4
- NetBSD 1.2 and 1.3
- Linux 2.0.x, 2.1.x, and 2.2.x
- SunOS 4
- Solaris 2.5, 2.6 and 7
- AIX 4.x
- IRIX 6.x
- Digital Unix 4.0 (OSF/1)
- Rhapsody DR2

Userland only:
- Ultrix 4.4

A cache manager (arlad) that works both in user-level mode and with
the kernel module.  The user-level mode is quite portable and has even
been working under Windows NT (with the cygwin32 libraries).

Some simple programs (fs, vos and pts).

Programs for acquiring tokens (kauth, afslog) are not included but are
part of the kth-krb distribution.

An experimental AFS server called milko.

5. What's the status or arla?

This is a snapshot and pre-greek letters.

Most of the functionality is there.  You can read and write files and
directories, with or without authentication.  It's not as stable or
high-performing as we would like, yet.  It only does whole-file
caching, but that's probably good enough for now.

6. What do I need to run arla?

If you have one of the systems listed above you will be able to mount
afs as a file system (and probably to panic your kernel as well).

The user-level programs should work and build on almost any other unix
dialect.

If you want to use authentication, you will also need a Kerberos v4
implementation.  We use and recommend the one at
<http://www.pdc.kth.se/kth-krb/>.

OpenBSD 2.3 already ships with kth-krb.  However, you'll have to
add the line 'AFS=yes' to /etc/mk.conf and rebuild libkafs and afslog.
(can be found in /usr/src/kerberosIV/{kafs,afslog}).

If you are using MIT-Kerberos or CNS Kerberos you can find a replacement
for libkafs in http://andrew2.andrew.cmu.edu/dist/krbafs.html. Then you
need to use the --with-krbafs=dir option when running configure.
Thanks to Derrick J Brashear <shadow@dementia.org> for making this
available for the american users.

If you don't have Kerberos, you should still be able to test that it
works, but there's not much point in running unauthenticated, and it's
not very tested.

7. How do I compile/install/start arla?

See the file INSTALL

8. What do I do when I find a bug?

Report it with as much detail as possible (including patches) to
<arla-drinkers@stacken.kth.se>.

If you find a bug, and do not have a clue what is wrong, please run
arlad with `arlad -n -z --debug=almost-all' and append the output the
the mail.  You can also turn on debug on an already running arlad with
`fs arladebug <debug-level>'.  To enable debugging in the xfs kernel
module, use `fs xfsdebug <debug-level>'.  The output will end up in
your syslog (like /var/log/messages or /var/adm/messages).

Without this info we are probably as lost as you are.

9. How do I adjust the amount of debug information?

Both arlad and the xfs (the kernel module) has variables for
controlling what type of debug messages should be printed.

They are controlled by the `--debug' option to arlad and then by
running `fs arladebug' and `fs xfsdebug'.

10. How hard is it to port arla to a new operating system?

It's not hard.  The user-level code is quite portable and is not much
different between different operating systems.  The kernel module is
system-specific but not that large and you can probably start with the
one in `xfs/SYSTEM' that's most similar to your system.  If you're
interested in doing the port, send mail to
<arla-drinkers@stacken.kth.se>.

11. Known problems.

OpenBSD on some architectures have serious problems with mmap.  If arlad
doesn't seem to work om your system run configure with `--disable-mmap'.
This problem has only been noticed on sun4m platforms.

If you have problems with stale data cached or arlad is misbehaving a
lot try zapping the entire cache directory (`/usr/arla/cache' per
default) and restarting arlad.

If you are using Digital's cc you should probably use the
options -std1 (ie setting CC to "cc -std1" when runing configure).

Solaris does not have an `memcpy' in the kernel and gcc can somtimes
generate calls to it.  If you get unresolved symbol errors on memcpy,
either compile with Sun's compiler or define memcpy in terms of bcopy.

12. How can I help?

With code.  Send us bug-reports and/or patches.

13. Are there any mailing lists for arla?

arla-drinkers@stacken.kth.se	general discussion
arla-announce@stacken.kth.se	only announcements

Send mail to <LIST>-request@stacken.kth.se to subscribe.

14. Is there a web page?

Yes, http://www.stacken.kth.se/project/arla/

15. Are there any copyrights on parts of arla?

lwp and rx are copyrighted by IBM.  We're grateful to Derrick J
Brashear <shadow@dementia.org> and Jim Doyle <jrd@bu.edu> for making
them available.

The rxkad implementation was written by Björn Grönvall <bg@sics.se>
and is also part of the kth-krb distribution.

editline was written by Simmule Turner and Rich Salz.

The code for disconnected operation was written by Wuwei Shen.

The code for gluing these together were written by ourselves.

<arla-drinkers@stacken.kth.se>

16. What has changed since *?

See NEWS and ChangeLog.

17. What does `arla' mean?

- Arla in Swedish means `early'.  Most of the code has been written
early in the morning.

- Arla is also the name of the largest producer of dairy products in
Sweden.  They produce, among others, a milk product called `fil'
(filmjölk = sour milk) which also happens to be the swedish word for
`file'.
