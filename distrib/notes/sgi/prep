dnl	$OpenBSD: prep,v 1.14 2009/08/02 17:08:13 jasper Exp $
Before you install your system, you should identify your system family and
familiarize yourself with the ARCBios setup and how to run programs from
the Command monitor prompt.

Identifying your system:

    Due to significant design differences in SGI systems, OpenBSD
    needs to use different kernels, depending on the system family.

    There are currently four system families supported by OpenBSD:

    IP27 family:
	Origin 200, Onyx 2
	Origin 2000

    IP30 family:
	Octane, Octane 2

    IP32 family:
	O2, O2+

    IP35 family:
	Origin 300, Origin 3000, Onyx 300
dnl	Origin 350, Onyx 350, Onyx 4
	Fuel
dnl	Tezro

    You should use the kernels (bsd and bsd.rd) with the IP suffix
    matching your family number, except for IP35 systems which use
    IP27 kernels.

Accessing the Maintenance Console:

    When the system starts up, press the ESC key or use the mouse and
    click the ``stop for maintenance'' button. Once in the System
    Maintenance Menu, select '5' (or click the appropriate icon if you
    are using the graphics console) to go into the Command Monitor.

    If the internal disk with the lowest SCSI ID does not contain a
    valid Volume Header, but is bootable, the Maintenance Console will
    be entered by default.

    The first time the Maintenance Console is entered, it may be
    necessary to force a reset of the environment to its default
    settings by entering the ``resetenv'' command at the chevron
    prompt. If some variables have been set explicitly, this may
    disturb the normal OpenBSD boot process.

Switching from serial to graphics console and vice versa:

    To change to serial console, go into the ARCBios Maintenance Console
    and change the ``console'' environment variable, and power-cycle
    the machine.

    > setenv console d

    will select 9600 8N1, no flow control, serial console on the first
    serial port (labeled ``(1)''), while

    > setenv console g

    will select the graphics console.

    Only IP32 family systems are supported with a graphis console
    under OpenBSD at the moment. On all other non-headless systems,
    you need to change the console to serial.

Setting the environment:

    When setting up the system to boot from disk, the ``OSLoader''
    environment variable will need to be changed.

    Its default value is ``sash'', which is IRIX' standalone
    shell and loader. Set it to ``boot'', the OpenBSD boot loader.

    Also, by default it tries to boot a kernel named ``/unix''. To
    make it boot OpenBSD, set ``OSLoadFilename'' to ``/bsd''.

    To enable automatic booting of OpenBSD once the machine has passed its
    diagnostic tests, change the value of ``AutoLoad'' to ``Yes''.

