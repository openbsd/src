#	$OpenBSD: list,v 1.9 2002/04/05 03:11:12 deraadt Exp $
#	$NetBSD: list,v 1.2.4.2 1996/06/26 19:25:00 pk Exp $

# extras
LINK	instbin			sbin/disklabel

LINK instbin			usr/bin/grep usr/bin/egrep usr/bin/fgrep
LINK instbin			usr/bin/tset usr/bin/reset
LINK instbin			usr/bin/less usr/bin/more
SPECIAL /bin/rm instbin

# Minimize use of MFS
SYMLINK	/tmp	var/tmp

# copy the MAKEDEV script and make some devices
COPY	${DESTDIR}/dev/MAKEDEV		dev/MAKEDEV
SPECIAL	cd dev; sh MAKEDEV ramdisk

# copy and link first stage boot code
COPY	${DESTDIR}/usr/mdec/xxboot	usr/mdec/xxboot
LINK	usr/mdec/xxboot			usr/mdec/hpboot
LINK	usr/mdec/xxboot			usr/mdec/raboot
LINK	usr/mdec/xxboot			usr/mdec/rdboot
LINK	usr/mdec/xxboot			usr/mdec/sdboot

# and a few useful bits of the termcap file (512K and still growing 8-)
SPECIAL tic -C ${CURDIR}/../../share/termtypes/termtypes.master | sed -n -e 's,/usr/share/lib/tabset,/usr/share/tabset,g' -e 's,/usr/lib/tabset,/usr/share/tabset,g' -e '/^dumb|/,/:[ 	]*$/p' -e '/^unknown|/,/:[ 	]*$/p' -e '/^vt.*|/,/:[ 	]*$/p' > usr/share/misc/termcap

# various files that we need in /etc for the install
SPECIAL sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${DESTDIR}/etc/disktab	> etc/disktab.shadow
SYMLINK	/tmp/disktab.shadow		etc/disktab
SYMLINK	/tmp/fstab.shadow		etc/fstab
SYMLINK	/tmp/resolv.conf.shadow		etc/resolv.conf
SYMLINK	/tmp/hosts			etc/hosts

# and the installation tools
SPECIAL sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${ARCHDIR}/../ramdisk/dot.profile	 > .profile
SPECIAL sed -e '/^#[ 	].*$/d' -e "s/^ARCH=ARCH$/ARCH=`arch -s`/" < ${ARCHDIR}/../install.md	 > install.md
