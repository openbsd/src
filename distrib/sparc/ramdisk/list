#	$OpenBSD: list,v 1.7 1997/09/19 06:07:18 deraadt Exp $
#	$NetBSD: list,v 1.2.4.2 1996/06/26 19:25:00 pk Exp $

# Sparc extra's
LINK	instbin			sbin/disklabel

SYMLINK	../../instbin		usr/bin/basename
SYMLINK ../../instbin		usr/bin/grep usr/bin/egrep usr/bin/fgrep
SYMLINK ../../instbin		usr/bin/rsh
SYMLINK ../../instbin		usr/bin/tset usr/bin/reset
SYMLINK	../../instbin		usr/bin/less usr/bin/more
SYMLINK	../../instbin		usr/sbin/installboot

SRCDIRS	sys/arch/sparc/stand

# crunchgen source directory specials
#CRUNCHSPECIAL installboot srcdir sys/arch/sparc/stand/installboot

# Minimize use of MFS
SYMLINK	/tmp	var/tmp

# copy the MAKEDEV script and make some devices
COPY	${DESTDIR}/dev/MAKEDEV		dev/MAKEDEV
SPECIAL	cd dev; sh MAKEDEV ramdisk

# we need the contents of /usr/mdec (but not boot or binstall)
COPYDIR	${DESTDIR}/usr/mdec	usr/mdec
SPECIAL	rm -f usr/mdec/binstall

# the zoneinfo
# COPYDIR	${DESTDIR}/usr/share/zoneinfo	usr/share/zoneinfo

# and a few useful bits of the termcap file (512K and still growing 8-)
# COPY	${CURDIR}/../../share/termcap/termcap.src usr/share/misc/termcap
SPECIAL sed -n -e '/^dumb|/,/:[ 	]*$/p' -e '/^unknown|/,/:[ 	]*$/p' -e '/^sun.*|/,/:[ 	]*$/p' -e '/^vt.*|/,/:[ 	]*$/p' -e '/^pc3|/,/:[ 	]*$/p' -e '/^pcvt.*|/,/:[ 	]*$/p' ${CURDIR}/../../share/termcap/termcap.src > usr/share/misc/termcap

# various files that we need in /etc for the install
COPY	${DESTDIR}/etc/disktab		etc/disktab.shadow
SYMLINK	/tmp/disktab.shadow		etc/disktab
SYMLINK	/tmp/fstab.shadow		etc/fstab
SYMLINK	/tmp/resolv.conf.shadow		etc/resolv.conf
SYMLINK	/tmp/hosts			etc/hosts

# and the installation tools
COPY	${ARCHDIR}/../ramdisk/dot.profile	.profile
COPY	${ARCHDIR}/../install.md	install.md

# no point in making the fs bootable if there's no bsd in there
#SPECIAL	ln usr/mdec/boot boot
#SPECIAL sync; ${DESTDIR}/usr/mdec/binstall -v ffs ${TARGDIR}
