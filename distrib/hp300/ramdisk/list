#	$OpenBSD: list,v 1.26 2001/12/17 00:41:51 krw Exp $

COPY	${OBJDIR}/raminst		raminst
LINK	raminst				bin/cat
LINK	raminst				bin/chmod bin/chgrp sbin/chown
LINK	raminst				bin/cp
LINK	raminst				bin/df
LINK	raminst				bin/dd
LINK	raminst				bin/ed
LINK	raminst				bin/expr
LINK	raminst				bin/hostname
LINK	raminst				bin/ln
LINK	raminst				bin/ls
LINK	raminst				bin/mkdir
LINK	raminst				bin/mv
LINK	raminst				bin/rm
LINK	raminst				bin/sh
LINK	bin/sh				bin/-sh
LINK	raminst				bin/sleep
LINK	raminst				bin/stty
LINK	raminst				bin/sync
LINK	raminst				sbin/disklabel
LINK	raminst				sbin/fsck
LINK	raminst				sbin/dmesg
LINK	raminst				sbin/halt
LINK	raminst				sbin/ifconfig
LINK	raminst				sbin/init
LINK	raminst				sbin/mknod
LINK	raminst				usr/bin/more
LINK	raminst				sbin/mount
LINK	raminst				sbin/mount_cd9660
LINK	raminst				sbin/mount_ffs
LINK	raminst				sbin/mount_nfs
LINK	raminst				sbin/mount_mfs
LINK	raminst				sbin/newfs
LINK	raminst				sbin/reboot
LINK	raminst				sbin/route
LINK	raminst				sbin/umount
LINK	raminst				usr/bin/ftp
LINK	raminst				usr/bin/egrep
LINK	raminst				usr/bin/grep
LINK	raminst				usr/bin/gzip
LINK	raminst				usr/bin/less
LINK	raminst				usr/bin/sed
LINK	raminst				usr/bin/sort
LINK	raminst				bin/pax
LINK	raminst				usr/bin/tar
LINK	raminst				usr/bin/vi
LINK	raminst				sbin/dhclient
SPECIAL	/bin/rm raminst

# copy the MAKEDEV script and make some devices
COPY	${DESTDIR}/dev/MAKEDEV		dev/MAKEDEV
SPECIAL	cd dev; sh MAKEDEV raminst

# we need the contents of /usr/mdec (XXX)
COPY	${DESTDIR}/usr/mdec/uboot.lif	usr/mdec/uboot.lif
LINK	usr/mdec/uboot.lif		usr/mdec/bootct
LINK	usr/mdec/uboot.lif		usr/mdec/boothd
LINK	usr/mdec/uboot.lif		usr/mdec/bootsd
LINK	usr/mdec/uboot.lif		usr/mdec/ctboot
LINK	usr/mdec/uboot.lif		usr/mdec/hdboot
LINK	usr/mdec/uboot.lif		usr/mdec/sdboot

# various files that we need in /etc for the install
COPY	${DESTDIR}/etc/group			etc/group
COPY	${DESTDIR}/etc/spwd.db			etc/spwd.db
COPY	${CURDIR}/../../miniroot/protocols	etc/protocols
COPY	${CURDIR}/../../miniroot/services	etc/services
SPECIAL	sed -e '/^#[ 	].*$/d' < ${DESTDIR}/etc/disktab > etc/disktab

# we strip comments from files since we need the space...

# and the common installation tools
SPECIAL	sed -e '/^#[ 	].*$/d' < ${TOPDIR}/common/dot.commonutils > .commonutils
SPECIAL	sed -e '/^#[ 	].*$/d' < ${TOPDIR}/common/termcap.hp-vt > usr/share/misc/termcap

# and the installation tools
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${CURDIR}/dot.profile > .profile
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${CURDIR}/dot.instutils > .instutils
SPECIAL sed -e '/^[ 	]*#[ 	].*$/d' -e "s/^ARCH=ARCH$/ARCH=`arch -ks`/" -e '/^[ 	]*#$/d' < ${CURDIR}/install.md > install.md
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${CURDIR}/../../miniroot/install.sh > install
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${CURDIR}/../../miniroot/upgrade.sh > upgrade
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' -e "/^VERSION=/s/=.*/=${REV}/" < ${CURDIR}/../../miniroot/install.sub > install.sub

SPECIAL	chmod 755 install upgrade

# so DNS can work
SYMLINK /tmp/resolv.conf.shadow		etc/resolv.conf
